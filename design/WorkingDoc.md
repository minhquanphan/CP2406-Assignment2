# Java Based Traffic Simulator
## Program Working Document

### Specification
The client needs a way to be able to simulate traffic in city areas; needing to simulate different vehicle types 
behaviour with traffic lights, roads and intersections. The program will be console based for this iteration, and will 
be used in the console. Taking inputs from the user and displaying the status of objects within the simulation to the 
user. This version of the program will be able to simulate a single car moving along a single lane road, interact with 
a traffic light, move to a second road connected to the first, representing a very basic intersection, and move to the 
end of that road.

### Decomposition
The problem can be broken into operate objects that interact with each other to achieve the desired behaviour. 
These objects include;

#### Model.Vehicle (abstract)
The vehicle class will be abstract, having the Model.Car Model.Bus and Model.Motorbike as it subclasses. Having the following attributes;
- *id* – a unique identifier that will differentiate each vehicle.
- *Length* – the physical space the vehicle occupies longways.
- *Breadth* – the physical space the vehicle occupies widthways, half the vehicles length.
- *Speed* – how far the vehicle moves for each simulation turn.
- *Position* – where the vehicle is located on a road.
- *Current Model.Road* – the road the vehicle is currently traveling on.
- *Colour* - a colour assigned to each vehicle for when it is represented graphically.

A vehicle will be able to move, using the move() method, within the simulation along a road depending on its speed, 
the speed will be defined by the speed limit of the road the car is traveling on. When the vehicles is either in the same position 
as a traffic light or about to reach the traffic light, it will check its state before moving, if the light is red it will stop, if the light is green it 
will move to the next road. When the vehicles position is equal to the end of a road and there is no connected road it 
will stop and be removed ending the simulation. The vehicle will also be in control of how it is represented 
graphically with its draw() method.

##### Model.Car
The car class is a subclass of vehicle, an object that describes an average size road vehicle. Its breadth is half of its length
by default.

##### Model.Bus
The bus class is a subclass of vehicle, describing a large road vehicle. It has the length which is 3 times 
the length of the vehicle  base class, and its breadth is also half of its length. 

##### Model.Motorbike
The motorbike class is a a subclass of vehicle, describing a small road vehicle. Its length and breadth are
both half of the vehicle base class's length and breadth.

#### Model.Road
The road class will be an object that describes a single lane road. Holding the following attributes;
- *id* - a unique identifier that will differentiate each road
- *Speed limit* – the maximum speed that vehicles on that road may travel at.
- *Length* – the number of segments the road is comprised of and the physical space it occupies.
- *Start location* – the (x,y) coordinate that represents where the road begins.
- *End location* – the (x,y) coordinate that represents where the road ends.
- *Connected roads* – all of the roads that this road is physically connected to.
- *Lights on the road* – all the traffic lights that are on the ends this road.
- *Vehicles on the road* – all of the vehicles that are currently traveling on this road.
- *Orientation* - The direction the road is facing graphically.

Roads will interact with other roads by being connected to them, have the ability for multiple connections, 
creating a very basic intersection with multiple options for the vehicle to 
take. Vehicles will move along the road from the starting position to the end position, that depends on the road’s 
length. The road has 2 lanes but Vehicles will only be spawn on the Left Lane by default.
Traffic lights can be placed at only the end position of the road. The road will also be in control of how it
is drawed graphically with the draw() method depending on it orientation.  

#### Traffic Light
The traffic light class will represent a simple red or green traffic light. Holding the following attributes;
- *id* - a unique identifier that will differentiate each traffic light.
- *State* - the colour the ligth is displaying.
- *Position* - where the traffic light is located on the road.
- *Model.Road attached to* - the road that the light is attached to.

The traffic light will operate, using the operate() method. Randomly changing from green to red. This operation will 
be based on pseudo-random numbers generated by the program. The light will be placed on a road only at its final 
position, the end of the road, and will interact with vehicles that are also at that position. If the light is red the 
vehicles will stop and not move to the next road. If the light is green the vehicles will continue past and move to the
next road. it will also be able to control how it is drawn graphically with the draw() method.

### View.SimulationPanel
- *vehiclesToSpawn* - total numbers of vehicles to be spawned in the sim,
- *vehiclesSpawned* - how many vehicles have been spawned so far.
- *vehiclesRemoved* - vehicles that have reached the end of the map and been removed.
- *numberOfCycles* - the number of simulation cycles between spawns.
- *scale* - the scale of objects drawn graphically.

This class generates the graphical display of the simulation within the main frame. Loading the location of road
and traffic light objects from the editor. Vehicles will be created for the simulation, types of vehicle are 
created randomly, and the update rate is also set depending on user input form dialog boxes in main. The simulation
will be run within a timer.

### View.EditorPanel
- *scale* - the scale of objects drawn graphically.

This class will generate the graphical display for the city editor within the main frame. Allowing users to click
to place roads, letting them define orientation and connection with dialog boxes within the New menu option.

### Model.SaveFile
This class will handle the saving of simulation files. 

### Model.LoadFile
This class will handle the action of opening a saved Simulation city file (txt files only).

### Main
This class will have the main() method that will call the simulation and editor panel. It will also have the 
menus used for user navigation. User input for simulation parameters will also be handled here; number of vehicles 
spawned 
